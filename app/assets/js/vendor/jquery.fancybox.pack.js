!function(e,t,o,i){var n=o('html'),r=o(e),a=o(t),s=o.fancybox=function(){s.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=t.createTouch!==i,p=function(e){return e&&e.hasOwnProperty&&e instanceof o},f=function(e){return e&&'string'===o.type(e)},u=function(e){return f(e)&&0<e.indexOf('%')},h=function(e,t){var o=parseInt(e,10)||0;return t&&u(e)&&(o*=s.getViewport()[t]/100),Math.ceil(o)},g=function(e,t){return h(e,t)+'px'};o.extend(s,{version:'2.1.5',defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:'auto',wrapCSS:'',arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:'html',headers:{'X-fancyBox':!0}},iframe:{scrolling:'auto',preload:!0},swf:{wmode:'transparent',allowfullscreen:'true',allowscriptaccess:'always'},keys:{next:{13:'left',34:'up',39:'left',40:'up'},prev:{8:'right',33:'down',37:'right',38:'down'},close:[27],play:[32],toggle:[70]},direction:{next:'left',prev:'right'},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':'')+'></iframe>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:'fade',openSpeed:250,openEasing:'swing',openOpacity:!0,openMethod:'zoomIn',closeEffect:'fade',closeSpeed:250,closeEasing:'swing',closeOpacity:!0,closeMethod:'zoomOut',nextEffect:'elastic',nextSpeed:250,nextEasing:'swing',nextMethod:'changeIn',prevEffect:'elastic',prevSpeed:250,prevEasing:'swing',prevMethod:'changeOut',helpers:{overlay:!0,title:!0},onCancel:o.noop,beforeLoad:o.noop,afterLoad:o.noop,beforeShow:o.noop,afterShow:o.noop,beforeChange:o.noop,beforeClose:o.noop,afterClose:o.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(o.isPlainObject(t)||(t={}),!1!==s.close(!0))?(o.isArray(e)||(e=p(e)?o(e).get():[e]),o.each(e,function(n,r){var a,l,c,d,u,h={};'object'===o.type(r)&&(r.nodeType&&(r=o(r)),p(r)?(h={href:r.data('fancybox-href')||r.attr('href'),title:r.data('fancybox-title')||r.attr('title'),isDom:!0,element:r},o.metadata&&o.extend(!0,h,r.metadata())):h=r),a=t.href||h.href||(f(r)?r:null),l=t.title!==i?t.title:h.title||'',d=(c=t.content||h.content)?'html':t.type||h.type,!d&&h.isDom&&(d=r.data('fancybox-type'),d||(d=(d=r.prop('class').match(/fancybox\.(\w+)/))?d[1]:null)),f(a)&&(d||(s.isImage(a)?d='image':s.isSWF(a)?d='swf':'#'===a.charAt(0)?d='inline':f(r)&&(d='html',c=r)),'ajax'===d&&(u=a.split(/\s+/,2),a=u.shift(),u=u.shift())),c||('inline'===d?a?c=o(f(a)?a.replace(/.*(?=#[^\s]+$)/,''):a):h.isDom&&(c=r):'html'===d?c=a:!d&&!a&&h.isDom&&(d='inline',c=r)),o.extend(h,{href:a,type:d,content:c,title:l,selector:u}),e[n]=h}),s.opts=o.extend(!0,{},s.defaults,t),t.keys!==i&&(s.opts.keys=t.keys?o.extend({},s.defaults.keys,t.keys):!1),s.group=e,s._start(s.opts.index)):void 0},cancel:function(){var e=s.coming;e&&!1!==s.trigger('onCancel')&&(s.hideLoading(),s.ajaxLoad&&s.ajaxLoad.abort(),s.ajaxLoad=null,s.imgPreload&&(s.imgPreload.onload=s.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger('onReset').remove(),s.coming=null,s.current||s._afterZoomOut(e))},close:function(e){s.cancel(),!1!==s.trigger('beforeClose')&&(s.unbindEvents(),s.isActive&&(s.isOpen&&!0!==e?(s.isOpen=s.isOpened=!1,s.isClosing=!0,o('.fancybox-item, .fancybox-nav').remove(),s.wrap.stop(!0,!0).removeClass('fancybox-opened'),s.transitions[s.current.closeMethod]()):(o('.fancybox-wrap').stop(!0).trigger('onReset').remove(),s._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(s.player.timer)},o=function(){t(),s.current&&s.player.isActive&&(s.player.timer=setTimeout(s.next,s.current.playSpeed))},i=function(){t(),a.unbind('.player'),s.player.isActive=!1,s.trigger('onPlayEnd')};!0===e||!s.player.isActive&&!1!==e?s.current&&(s.current.loop||s.current.index<s.group.length-1)&&(s.player.isActive=!0,a.bind({'onCancel.player beforeClose.player':i,'onUpdate.player':o,'beforeLoad.player':t}),o(),s.trigger('onPlayStart')):i()},next:function(e){var t=s.current;t&&(f(e)||(e=t.direction.next),s.jumpto(t.index+1,e,'next'))},prev:function(e){var t=s.current;t&&(f(e)||(e=t.direction.prev),s.jumpto(t.index-1,e,'prev'))},jumpto:function(e,t,o){var n=s.current;n&&(e=h(e),s.direction=t||n.direction[e>=n.index?'next':'prev'],s.router=o||'jumpto',n.loop&&(0>e&&(e=n.group.length+e%n.group.length),e%=n.group.length),n.group[e]!==i&&(s.cancel(),s._start(e)))},reposition:function(e,t){var i,n=s.current,r=n?n.wrap:null;r&&(i=s._getPosition(t),e&&'scroll'===e.type?(delete i.position,r.stop(!0,!0).animate(i,200)):(r.css(i),n.pos=o.extend({},n.dim,i)))},update:function(e){var t=e&&e.type,o=!t||'orientationchange'===t;o&&(clearTimeout(c),c=null),s.isOpen&&!c&&(c=setTimeout(function(){var i=s.current;i&&!s.isClosing&&(s.wrap.removeClass('fancybox-tmp'),(o||'load'===t||'resize'===t&&i.autoResize)&&s._setDimension(),'scroll'===t&&i.canShrink||s.reposition(e),s.trigger('onUpdate'),c=null)},o&&!d?0:300))},toggle:function(e){s.isOpen&&(s.current.fitToView='boolean'===o.type(e)?e:!s.current.fitToView,d&&(s.wrap.removeAttr('style').addClass('fancybox-tmp'),s.trigger('onUpdate')),s.update())},hideLoading:function(){a.unbind('.loading'),o('#fancybox-loading').remove()},showLoading:function(){var e,t;s.hideLoading(),e=o('<div id="fancybox-loading"><div></div></div>').click(s.cancel).appendTo('body'),a.bind('keydown.loading',function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),s.cancel())}),s.defaults.fixed||(t=s.getViewport(),e.css({position:'absolute',top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=s.current&&s.current.locked||!1,o={x:r.scrollLeft(),y:r.scrollTop()};return t?(o.w=t[0].clientWidth,o.h=t[0].clientHeight):(o.w=d&&e.innerWidth?e.innerWidth:r.width(),o.h=d&&e.innerHeight?e.innerHeight:r.height()),o},unbindEvents:function(){s.wrap&&p(s.wrap)&&s.wrap.unbind('.fb'),a.unbind('.fb'),r.unbind('.fb')},bindEvents:function(){var e,t=s.current;t&&(r.bind('orientationchange.fb'+(d?'':' resize.fb')+(t.autoCenter&&!t.locked?' scroll.fb':''),s.update),(e=t.keys)&&a.bind('keydown.fb',function(n){var r=n.which||n.keyCode,a=n.target||n.srcElement;return 27===r&&s.coming?!1:void(!n.ctrlKey&&!n.altKey&&!n.shiftKey&&!n.metaKey&&(!a||!a.type&&!o(a).is('[contenteditable]'))&&o.each(e,function(e,a){return 1<t.group.length&&a[r]!==i?(s[e](a[r]),n.preventDefault(),!1):-1<o.inArray(r,a)?(s[e](),n.preventDefault(),!1):void 0}))}),o.fn.mousewheel&&t.mouseWheel&&s.wrap.bind('mousewheel.fb',function(e,i,n,r){for(var a=o(e.target||null),l=!1;a.length&&!l&&!a.is('.fancybox-skin')&&!a.is('.fancybox-wrap');)l=a[0]&&!(a[0].style.overflow&&'hidden'===a[0].style.overflow)&&(a[0].clientWidth&&a[0].scrollWidth>a[0].clientWidth||a[0].clientHeight&&a[0].scrollHeight>a[0].clientHeight),a=o(a).parent();0!==i&&!l&&1<s.group.length&&!t.canShrink&&(r>0||n>0?s.prev(r>0?'down':'left'):(0>r||0>n)&&s.next(0>r?'up':'right'),e.preventDefault())}))},trigger:function(e,t){var i,n=t||s.coming||s.current;if(n){if(o.isFunction(n[e])&&(i=n[e].apply(n,Array.prototype.slice.call(arguments,1))),!1===i)return!1;n.helpers&&o.each(n.helpers,function(t,i){i&&s.helpers[t]&&o.isFunction(s.helpers[t][e])&&s.helpers[t][e](o.extend(!0,{},s.helpers[t].defaults,i),n)}),a.trigger(e)}},isImage:function(e){return f(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return f(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,i,n={};if(e=h(e),t=s.group[e]||null,!t)return!1;if(n=o.extend(!0,{},s.opts,t),t=n.margin,i=n.padding,'number'===o.type(t)&&(n.margin=[t,t,t,t]),'number'===o.type(i)&&(n.padding=[i,i,i,i]),n.modal&&o.extend(!0,n,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),n.autoSize&&(n.autoWidth=n.autoHeight=!0),'auto'===n.width&&(n.autoWidth=!0),'auto'===n.height&&(n.autoHeight=!0),n.group=s.group,n.index=e,s.coming=n,!1===s.trigger('beforeLoad'))s.coming=null;else{if(i=n.type,t=n.href,!i)return s.coming=null,s.current&&s.router&&'jumpto'!==s.router?(s.current.index=e,s[s.router](s.direction)):!1;if(s.isActive=!0,('image'===i||'swf'===i)&&(n.autoHeight=n.autoWidth=!1,n.scrolling='visible'),'image'===i&&(n.aspectRatio=!0),'iframe'===i&&d&&(n.scrolling='scroll'),n.wrap=o(n.tpl.wrap).addClass('fancybox-'+(d?'mobile':'desktop')+' fancybox-type-'+i+' fancybox-tmp '+n.wrapCSS).appendTo(n.parent||'body'),o.extend(n,{skin:o('.fancybox-skin',n.wrap),outer:o('.fancybox-outer',n.wrap),inner:o('.fancybox-inner',n.wrap)}),o.each(['Top','Right','Bottom','Left'],function(e,t){n.skin.css('padding'+t,g(n.padding[e]))}),s.trigger('onReady'),'inline'===i||'html'===i){if(!n.content||!n.content.length)return s._error('content')}else if(!t)return s._error('href');'image'===i?s._loadImage():'ajax'===i?s._loadAjax():'iframe'===i?s._loadIframe():s._afterLoad()}},_error:function(e){o.extend(s.coming,{type:'html',autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:'no',hasError:e,content:s.coming.tpl.error}),s._afterLoad()},_loadImage:function(){var e=s.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,s.coming.width=this.width/s.opts.pixelRatio,s.coming.height=this.height/s.opts.pixelRatio,s._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,s._error('image')},e.src=s.coming.href,!0!==e.complete&&s.showLoading()},_loadAjax:function(){var e=s.coming;s.showLoading(),s.ajaxLoad=o.ajax(o.extend({},e.ajax,{url:e.href,error:function(e,t){s.coming&&'abort'!==t?s._error('ajax',e):s.hideLoading()},success:function(t,o){'success'===o&&(e.content=t,s._afterLoad())}}))},_loadIframe:function(){var e=s.coming,t=o(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr('scrolling',d?'auto':e.iframe.scrolling).attr('src',e.href);o(e.wrap).bind('onReset',function(){try{o(this).find('iframe').hide().attr('src','//about:blank').end().empty()}catch(e){}}),e.iframe.preload&&(s.showLoading(),t.one('load',function(){o(this).data('ready',1),d||o(this).bind('load.fb',s.update),o(this).parents('.fancybox-wrap').width('100%').removeClass('fancybox-tmp').show(),s._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||s._afterLoad()},_preloadImages:function(){var e,t,o=s.group,i=s.current,n=o.length,r=i.preload?Math.min(i.preload,n-1):0;for(t=1;r>=t;t+=1)e=o[(i.index+t)%n],'image'===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,i,n,r,a=s.coming,l=s.current;if(s.hideLoading(),a&&!1!==s.isActive)if(!1===s.trigger('afterLoad',a,l))a.wrap.stop(!0).trigger('onReset').remove(),s.coming=null;else{switch(l&&(s.trigger('beforeChange',l),l.wrap.stop(!0).removeClass('fancybox-opened').find('.fancybox-item, .fancybox-nav').remove()),s.unbindEvents(),e=a.content,t=a.type,i=a.scrolling,o.extend(s,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:l}),n=a.href,t){case'inline':case'ajax':case'html':a.selector?e=o('<div>').html(e).find(a.selector):p(e)&&(e.data('fancybox-placeholder')||e.data('fancybox-placeholder',o('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind('onReset',function(){o(this).find(e).length&&e.hide().replaceAll(e.data('fancybox-placeholder')).data('fancybox-placeholder',!1)}));break;case'image':e=a.tpl.image.replace('{href}',n);break;case'swf':e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+n+'"></param>',r='',o.each(a.swf,function(t,o){e+='<param name="'+t+'" value="'+o+'"></param>',r+=' '+t+'="'+o+'"'}),e+='<embed src="'+n+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+'></embed></object>'}(!p(e)||!e.parent().is(a.inner))&&a.inner.append(e),s.trigger('beforeShow'),a.inner.css('overflow','yes'===i?'scroll':'no'===i?'hidden':i),s._setDimension(),s.reposition(),s.isOpen=!1,s.coming=null,s.bindEvents(),s.isOpened?l.prevMethod&&s.transitions[l.prevMethod]():o('.fancybox-wrap').not(a.wrap).stop(!0).trigger('onReset').remove(),s.transitions[s.isOpened?a.nextMethod:a.openMethod](),s._preloadImages()}},_setDimension:function(){var e,t,i,n,r,a,l,c,d,p=s.getViewport(),f=0,m=!1,x=!1,m=s.wrap,y=s.skin,w=s.inner,b=s.current,x=b.width,v=b.height,T=b.minWidth,S=b.minHeight,k=b.maxWidth,F=b.maxHeight,C=b.scrolling,O=b.scrollOutside?b.scrollbarWidth:0,W=b.margin,_=h(W[1]+W[3]),A=h(W[0]+W[2]);if(m.add(y).add(w).width('auto').height('auto').removeClass('fancybox-tmp'),W=h(y.outerWidth(!0)-y.width()),e=h(y.outerHeight(!0)-y.height()),t=_+W,i=A+e,n=u(x)?(p.w-t)*h(x)/100:x,r=u(v)?(p.h-i)*h(v)/100:v,'iframe'===b.type){if(d=b.content,b.autoHeight&&1===d.data('ready'))try{d[0].contentWindow.document.location&&(w.width(n).height(9999),a=d.contents().find('body'),O&&a.css('overflow-x','hidden'),r=a.outerHeight(!0))}catch(L){}}else(b.autoWidth||b.autoHeight)&&(w.addClass('fancybox-tmp'),b.autoWidth||w.width(n),b.autoHeight||w.height(r),b.autoWidth&&(n=w.width()),b.autoHeight&&(r=w.height()),w.removeClass('fancybox-tmp'));if(x=h(n),v=h(r),c=n/r,T=h(u(T)?h(T,'w')-t:T),k=h(u(k)?h(k,'w')-t:k),S=h(u(S)?h(S,'h')-i:S),F=h(u(F)?h(F,'h')-i:F),a=k,l=F,b.fitToView&&(k=Math.min(p.w-t,k),F=Math.min(p.h-i,F)),t=p.w-_,A=p.h-A,b.aspectRatio?(x>k&&(x=k,v=h(x/c)),v>F&&(v=F,x=h(v*c)),T>x&&(x=T,v=h(x/c)),S>v&&(v=S,x=h(v*c))):(x=Math.max(T,Math.min(x,k)),b.autoHeight&&'iframe'!==b.type&&(w.width(x),v=w.height()),v=Math.max(S,Math.min(v,F))),b.fitToView)if(w.width(x).height(v),m.width(x+W),p=m.width(),_=m.height(),b.aspectRatio)for(;(p>t||_>A)&&x>T&&v>S&&!(19<f++);)v=Math.max(S,Math.min(F,v-10)),x=h(v*c),T>x&&(x=T,v=h(x/c)),x>k&&(x=k,v=h(x/c)),w.width(x).height(v),m.width(x+W),p=m.width(),_=m.height();else x=Math.max(T,Math.min(x,x-(p-t))),v=Math.max(S,Math.min(v,v-(_-A)));O&&'auto'===C&&r>v&&t>x+W+O&&(x+=O),w.width(x).height(v),m.width(x+W),p=m.width(),_=m.height(),m=(p>t||_>A)&&x>T&&v>S,x=b.aspectRatio?a>x&&l>v&&n>x&&r>v:(a>x||l>v)&&(n>x||r>v),o.extend(b,{dim:{width:g(p),height:g(_)},origWidth:n,origHeight:r,canShrink:m,canExpand:x,wPadding:W,hPadding:e,wrapSpace:_-y.outerHeight(!0),skinSpace:y.height()-v}),!d&&b.autoHeight&&v>S&&F>v&&!x&&w.height('auto')},_getPosition:function(e){var t=s.current,o=s.getViewport(),i=t.margin,n=s.wrap.width()+i[1]+i[3],r=s.wrap.height()+i[0]+i[2],i={position:'absolute',top:i[0],left:i[3]};return t.autoCenter&&t.fixed&&!e&&r<=o.h&&n<=o.w?i.position='fixed':t.locked||(i.top+=o.y,i.left+=o.x),i.top=g(Math.max(i.top,i.top+(o.h-r)*t.topRatio)),i.left=g(Math.max(i.left,i.left+(o.w-n)*t.leftRatio)),i},_afterZoomIn:function(){var e=s.current;e&&(s.isOpen=s.isOpened=!0,s.wrap.css('overflow','visible').addClass('fancybox-opened'),s.update(),(e.closeClick||e.nextClick&&1<s.group.length)&&s.inner.css('cursor','pointer').bind('click.fb',function(t){!o(t.target).is('a')&&!o(t.target).parent().is('a')&&(t.preventDefault(),s[e.closeClick?'close':'next']())}),e.closeBtn&&o(e.tpl.closeBtn).appendTo(s.skin).bind('click.fb',function(e){e.preventDefault(),s.close()}),e.arrows&&1<s.group.length&&((e.loop||0<e.index)&&o(e.tpl.prev).appendTo(s.outer).bind('click.fb',s.prev),(e.loop||e.index<s.group.length-1)&&o(e.tpl.next).appendTo(s.outer).bind('click.fb',s.next)),s.trigger('afterShow'),e.loop||e.index!==e.group.length-1?s.opts.autoPlay&&!s.player.isActive&&(s.opts.autoPlay=!1,s.play()):s.play(!1))},_afterZoomOut:function(e){e=e||s.current,o('.fancybox-wrap').trigger('onReset').remove(),o.extend(s,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),s.trigger('afterClose',e)}}),s.transitions={getOrigPosition:function(){var e=s.current,t=e.element,o=e.orig,i={},n=50,r=50,a=e.hPadding,l=e.wPadding,c=s.getViewport();return!o&&e.isDom&&t.is(':visible')&&(o=t.find('img:first'),o.length||(o=t)),p(o)?(i=o.offset(),o.is('img')&&(n=o.outerWidth(),r=o.outerHeight())):(i.top=c.y+(c.h-r)*e.topRatio,i.left=c.x+(c.w-n)*e.leftRatio),('fixed'===s.wrap.css('position')||e.locked)&&(i.top-=c.y,i.left-=c.x),i={top:g(i.top-a*e.topRatio),left:g(i.left-l*e.leftRatio),width:g(n+l),height:g(r+a)}},step:function(e,t){var o,i,n=t.prop;i=s.current;var r=i.wrapSpace,a=i.skinSpace;('width'===n||'height'===n)&&(o=t.end===t.start?1:(e-t.start)/(t.end-t.start),s.isClosing&&(o=1-o),i='width'===n?i.wPadding:i.hPadding,i=e-i,s.skin[n](h('width'===n?i:i-r*o)),s.inner[n](h('width'===n?i:i-r*o-a*o)))},zoomIn:function(){var e=s.current,t=e.pos,i=e.openEffect,n='elastic'===i,r=o.extend({opacity:1},t);delete r.position,n?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):'fade'===i&&(t.opacity=.1),s.wrap.css(t).animate(r,{duration:'none'===i?0:e.openSpeed,easing:e.openEasing,step:n?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var e=s.current,t=e.closeEffect,o='elastic'===t,i={opacity:.1};o&&(i=this.getOrigPosition(),e.closeOpacity&&(i.opacity=.1)),s.wrap.animate(i,{duration:'none'===t?0:e.closeSpeed,easing:e.closeEasing,step:o?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var e,t=s.current,o=t.nextEffect,i=t.pos,n={opacity:1},r=s.direction;i.opacity=.1,'elastic'===o&&(e='down'===r||'up'===r?'top':'left','down'===r||'right'===r?(i[e]=g(h(i[e])-200),n[e]='+=200px'):(i[e]=g(h(i[e])+200),n[e]='-=200px')),'none'===o?s._afterZoomIn():s.wrap.css(i).animate(n,{duration:t.nextSpeed,easing:t.nextEasing,complete:s._afterZoomIn})},changeOut:function(){var e=s.previous,t=e.prevEffect,i={opacity:.1},n=s.direction;'elastic'===t&&(i['down'===n||'up'===n?'top':'left']=('up'===n||'left'===n?'-':'+')+'=200px'),e.wrap.animate(i,{duration:'none'===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){o(this).trigger('onReset').remove()}})}},s.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:o('html'),create:function(e){e=o.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=o('<div class="fancybox-overlay"></div>').appendTo(s.coming?s.coming.parent:e.parent),this.fixed=!1,e.fixed&&s.defaults.fixed&&(this.overlay.addClass('fancybox-overlay-fixed'),this.fixed=!0)},open:function(e){var t=this;e=o.extend({},this.defaults,e),this.overlay?this.overlay.unbind('.overlay').width('auto').height('auto'):this.create(e),this.fixed||(r.bind('resize.overlay',o.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind('click.overlay',function(e){return o(e.target).hasClass('fancybox-overlay')?(s.isActive?s.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;r.unbind('resize.overlay'),this.el.hasClass('fancybox-lock')&&(o('.fancybox-margin').removeClass('fancybox-margin'),e=r.scrollTop(),t=r.scrollLeft(),this.el.removeClass('fancybox-lock'),r.scrollTop(e).scrollLeft(t)),o('.fancybox-overlay').remove().hide(),o.extend(this,{overlay:null,fixed:!1})},update:function(){var e,o='100%';this.overlay.width(o).height('100%'),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),a.width()>e&&(o=a.width())):a.width()>r.width()&&(o=a.width()),this.overlay.width(o).height(a.height())},onReady:function(e,t){var i=this.overlay;o('.fancybox-overlay').stop(!0,!0),i||this.create(e),e.locked&&this.fixed&&t.fixed&&(i||(this.margin=a.height()>r.height()?o('html').css('margin-right').replace('px',''):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var i,n;t.locked&&(!1!==this.margin&&(o('*').filter(function(){return'fixed'===o(this).css('position')&&!o(this).hasClass('fancybox-overlay')&&!o(this).hasClass('fancybox-wrap')}).addClass('fancybox-margin'),this.el.addClass('fancybox-margin')),i=r.scrollTop(),n=r.scrollLeft(),this.el.addClass('fancybox-lock'),r.scrollTop(i).scrollLeft(n)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!s.coming&&this.overlay.fadeOut(e.speedOut,o.proxy(this.close,this))}},s.helpers.title={defaults:{type:'float',position:'bottom'},beforeShow:function(e){var t=s.current,i=t.title,n=e.type;if(o.isFunction(i)&&(i=i.call(t.element,t)),f(i)&&''!==o.trim(i)){switch(t=o('<div class="fancybox-title fancybox-title-'+n+'-wrap">'+i+'</div>'),n){case'inside':n=s.skin;break;case'outside':n=s.wrap;break;case'over':n=s.inner;break;default:n=s.skin,t.appendTo('body'),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),s.current.margin[2]+=Math.abs(h(t.css('margin-bottom')))}t['top'===e.position?'prependTo':'appendTo'](n)}}},o.fn.fancybox=function(e){var t,i=o(this),n=this.selector||'',r=function(r){var a,l,c=o(this).blur(),d=t;!r.ctrlKey&&!r.altKey&&!r.shiftKey&&!r.metaKey&&!c.is('.fancybox-wrap')&&(a=e.groupAttr||'data-fancybox-group',l=c.attr(a),l||(a='rel',l=c.get(0)[a]),l&&''!==l&&'nofollow'!==l&&(c=n.length?o(n):i,c=c.filter('['+a+'="'+l+'"]'),d=c.index(this)),e.index=d,!1!==s.open(c,e)&&r.preventDefault())};return e=e||{},t=e.index||0,n&&!1!==e.live?a.undelegate(n,'click.fb-start').delegate(n+':not(\'.fancybox-item, .fancybox-nav\')','click.fb-start',r):i.unbind('click.fb-start').bind('click.fb-start',r),this.filter('[data-fancybox-start=1]').trigger('click'),this},a.ready(function(){var t,r;if(o.scrollbarWidth===i&&(o.scrollbarWidth=function(){var e=o('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo('body'),t=e.children(),t=t.innerWidth()-t.height(99).innerWidth();return e.remove(),t}),o.support.fixedPosition===i){t=o.support,r=o('<div style="position:fixed;top:20px;"></div>').appendTo('body');var a=20===r[0].offsetTop||15===r[0].offsetTop;r.remove(),t.fixedPosition=a}o.extend(s.defaults,{scrollbarWidth:o.scrollbarWidth(),fixed:o.support.fixedPosition,parent:o('body')}),t=o(e).width(),n.addClass('fancybox-lock-test'),r=o(e).width(),n.removeClass('fancybox-lock-test'),o('<style type=\'text/css\'>.fancybox-margin{margin-right:'+(r-t)+'px;}</style>').appendTo('head')})}(window,document,jQuery),function(e){'use strict';var t=e.fancybox,o=function(t,o,i){return i=i||'','object'===e.type(i)&&(i=e.param(i,!0)),e.each(o,function(e,o){t=t.replace('$'+e,o||'')}),i.length&&(t+=(t.indexOf('?')>0?'&':'?')+i),t};t.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:'opaque',enablejsapi:1},type:'iframe',url:'//www.youtube.com/embed/$3'},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:'iframe',url:'//player.vimeo.com/video/$1'},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:'yes'},type:'swf',url:function(t,o,i){return i.swf.flashVars='playerVars='+e.param(o,!0),'//www.metacafe.com/fplayer/'+t[1]+'/.swf'}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:'swf',url:'//www.dailymotion.com/swf/video/$1'},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:'iframe',url:'//www.twitvid.com/embed.php?guid=$1'},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:'image',url:'//twitpic.com/show/full/$1/'},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:'image',url:'//$1/p/$2/media/?size=l'},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:'iframe',url:function(e){return'//maps.google.'+e[1]+'/'+e[3]+e[4]+'&output='+(e[4].indexOf('layer=c')>0?'svembed':'embed')}}},beforeLoad:function(t,i){var n,r,a,s,l=i.href||'',c=!1;for(n in t)if(t.hasOwnProperty(n)&&(r=t[n],a=l.match(r.matcher))){c=r.type,s=e.extend(!0,{},r.params,i[n]||(e.isPlainObject(t[n])?t[n].params:null)),l='function'===e.type(r.url)?r.url.call(this,a,s,i):o(r.url,a,s);break}c&&(i.href=l,i.type=c,i.autoHeight=!1)}}}(jQuery),function(e){e.isScrollToFixed=function(t){return!!e(t).data('ScrollToFixed')},e.ScrollToFixed=function(t,o){function i(){S.trigger('preUnfixed.ScrollToFixed'),d(),S.trigger('unfixed.ScrollToFixed'),O=-1,k=S.offset().top,F=S.offset().left,m.options.offsets&&(F+=S.offset().left-S.position().left),-1==C&&(C=F),x=S.css('position'),T=!0,-1!=m.options.bottom&&(S.trigger('preFixed.ScrollToFixed'),l(),S.trigger('fixed.ScrollToFixed'))}function n(){var e=m.options.limit;return e?'function'==typeof e?e.apply(S):e:0}function r(){return'fixed'===x}function a(){return'absolute'===x}function s(){return!(r()||a())}function l(){if(!r()){var e=S[0].getBoundingClientRect();W.css({display:S.css('display'),width:e.width,height:e.height,'float':S.css('float')}),cssOptions={'z-index':m.options.zIndex,position:'fixed',top:-1==m.options.bottom?f():'',bottom:-1==m.options.bottom?'':m.options.bottom,'margin-left':'0px'},m.options.dontSetWidth||(cssOptions.width=S.css('width')),S.css(cssOptions),S.addClass(m.options.baseClassName),m.options.className&&S.addClass(m.options.className),x='fixed'}}function c(){var e=n(),t=F;m.options.removeOffsets&&(t='',e-=k),cssOptions={position:'absolute',top:e,left:t,'margin-left':'0px',bottom:''},m.options.dontSetWidth||(cssOptions.width=S.css('width')),S.css(cssOptions),x='absolute'}function d(){s()||(O=-1,W.css('display','none'),S.css({'z-index':v,width:'',position:y,left:'',top:b,'margin-left':''}),S.removeClass('fixed'),m.options.className&&S.removeClass(m.options.className),x=null)}function p(e){e!=O&&(S.css('left',F-e),O=e)}function f(){var e=m.options.marginTop;return e?'function'==typeof e?e.apply(S):e:0}function u(){if(e.isScrollToFixed(S)&&!S.is(':hidden')){var t=T,o=s();T?s()&&(k=S.offset().top,F=S.offset().left):i();var u=e(window).scrollLeft(),x=e(window).scrollTop(),w=n();m.options.minWidth&&e(window).width()<m.options.minWidth?s()&&t||(g(),S.trigger('preUnfixed.ScrollToFixed'),d(),S.trigger('unfixed.ScrollToFixed')):m.options.maxWidth&&e(window).width()>m.options.maxWidth?s()&&t||(g(),S.trigger('preUnfixed.ScrollToFixed'),d(),S.trigger('unfixed.ScrollToFixed')):-1==m.options.bottom?w>0&&x>=w-f()?o||a()&&t||(g(),S.trigger('preAbsolute.ScrollToFixed'),c(),S.trigger('unfixed.ScrollToFixed')):x>=k-f()?(r()&&t||(g(),S.trigger('preFixed.ScrollToFixed'),l(),O=-1,S.trigger('fixed.ScrollToFixed')),p(u)):s()&&t||(g(),S.trigger('preUnfixed.ScrollToFixed'),d(),S.trigger('unfixed.ScrollToFixed')):w>0?x+e(window).height()-S.outerHeight(!0)>=w-(f()||-h())?r()&&(g(),S.trigger('preUnfixed.ScrollToFixed'),'absolute'===y?c():d(),S.trigger('unfixed.ScrollToFixed')):(r()||(g(),S.trigger('preFixed.ScrollToFixed'),l()),p(u),S.trigger('fixed.ScrollToFixed')):p(u)}}function h(){return m.options.bottom?m.options.bottom:0}function g(){var e=S.css('position');'absolute'==e?S.trigger('postAbsolute.ScrollToFixed'):'fixed'==e?S.trigger('postFixed.ScrollToFixed'):S.trigger('postUnfixed.ScrollToFixed')}var m=this;m.$el=e(t),m.el=t,m.$el.data('ScrollToFixed',m);var x,y,w,b,v,T=!1,S=m.$el,k=0,F=0,C=-1,O=-1,W=null,_=function(){S.is(':visible')&&(T=!1,u())},A=function(){window.requestAnimationFrame?requestAnimationFrame(u):u()},L=function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1};m.init=function(){m.options=e.extend({},e.ScrollToFixed.defaultOptions,o),v=S.css('z-index'),m.$el.css('z-index',m.options.zIndex),W=e('<div />'),x=S.css('position'),y=S.css('position'),w=S.css('float'),b=S.css('top'),s()&&m.$el.after(W),e(window).bind('resize.ScrollToFixed',_),e(window).bind('scroll.ScrollToFixed',A),'ontouchmove'in window&&e(window).bind('touchmove.ScrollToFixed',u),m.options.preFixed&&S.bind('preFixed.ScrollToFixed',m.options.preFixed),m.options.postFixed&&S.bind('postFixed.ScrollToFixed',m.options.postFixed),m.options.preUnfixed&&S.bind('preUnfixed.ScrollToFixed',m.options.preUnfixed),m.options.postUnfixed&&S.bind('postUnfixed.ScrollToFixed',m.options.postUnfixed),m.options.preAbsolute&&S.bind('preAbsolute.ScrollToFixed',m.options.preAbsolute),m.options.postAbsolute&&S.bind('postAbsolute.ScrollToFixed',m.options.postAbsolute),m.options.fixed&&S.bind('fixed.ScrollToFixed',m.options.fixed),m.options.unfixed&&S.bind('unfixed.ScrollToFixed',m.options.unfixed),m.options.spacerClass&&W.addClass(m.options.spacerClass),S.bind('resize.ScrollToFixed',function(){W.height(S.height())}),S.bind('scroll.ScrollToFixed',function(){S.trigger('preUnfixed.ScrollToFixed'),d(),S.trigger('unfixed.ScrollToFixed'),u()}),S.bind('detach.ScrollToFixed',function(t){L(t),S.trigger('preUnfixed.ScrollToFixed'),d(),S.trigger('unfixed.ScrollToFixed'),e(window).unbind('resize.ScrollToFixed',_),e(window).unbind('scroll.ScrollToFixed',A),S.unbind('.ScrollToFixed'),W.remove(),m.$el.removeData('ScrollToFixed')}),_()},m.init()},e.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:'scroll-to-fixed-fixed'},e.fn.scrollToFixed=function(t){return this.each(function(){new e.ScrollToFixed(this,t)})}}(jQuery);
